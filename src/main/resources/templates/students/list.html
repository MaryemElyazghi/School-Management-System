<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{fragments/head :: head('Liste des Élèves')}"></head>
<body>

<div th:replace="~{fragments/navbar :: navbar}"></div>

<!--
    ✅ UTILISATION DU TEMPLATE GÉNÉRIQUE

    Configuration des colonnes à afficher
-->
<th:block th:with="columns=${
    {
        {field: 'id', label: 'ID Étudiant', type: 'text'},
        {field: 'fullName', label: 'Nom Complet', type: 'text'},
        {field: 'email', label: 'Email', type: 'text'},
        {field: 'departmentName', label: 'Filière', type: 'badge', badgeColor: 'primary'},
        {field: 'enrollmentDate', label: 'Date d\'Inscription', type: 'date'}
    }
}">

    <div th:replace="~{fragments/generic-list :: list(
        entityName='élève',
        entityNamePlural='students',
        displayName='Élève',
        displayNamePlural='Élèves',
        icon='bi-people-fill',
        iconColor='primary',
        items=${students},
        columns=${columns},
        canCreate=true,
        canEdit=true,
        canDelete=true,
        editRole='ADMIN,TEACHER',
        deleteRole='ADMIN'
    )}"></div>

</th:block>

<div th:replace="~{fragments/footer :: footer}"></div>

</body>
</html>